"use strict";(self["webpackChunknew_vue"]=self["webpackChunknew_vue"]||[]).push([[339],{339:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CrudDataTable",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,"items-per-page":5,addBtn:!1},on:{deleteItem:e.deleteItem},scopedSlots:e._u([{key:"footer.prepend",fn:function(){return[n("span",{staticClass:"ma-2"},[e._v(" TOTAL BTS : "),n("strong",{staticClass:"green--text text--lighten-2"},[e._v(" "+e._s(e.totalbts)+" ")]),n("br"),e._v(" NIFTY 500 : "),n("strong",{staticClass:"green--text text--lighten-2 font-size: 1.9em"},[e._v(" "+e._s(e.nifty))]),n("br"),e._v(" "),n("div",[e._v(" PERFORM : "),n("strong",{staticClass:"blue--text text--darken-3"},[e._v(" "+e._s(e.perform))])])])]},proxy:!0}],null,!0)})],1)},a=[],s=n(6198),r=(n(5666),n(2222),n(1539),n(4747),n(9600),n(6977),n(1249),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"elevation-1",attrs:{value:e.value,headers:e.headers,items:e.items,"items-per-page":100,"show-select":e.showSelect,"sort-by":"calories",search:e.search,"item-key":e.itemKey,"return-object":"","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-dialog",{scopedSlots:e._u([e.addBtn?{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"teal",dark:"",small:""}},"v-btn",a,!1),i),[e._v(" Add New ")])]}}:null],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-form",{ref:"form",model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[e._t("forms",null,{editedItem:e.editedItem,rules:e.rules})],2)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),n("v-spacer")],1)],1)],1),n("v-spacer"),n("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}})),{key:"item.Edit",fn:function(t){var i=t.item;return[e.editBtn?n("v-btn",{attrs:{icon:""}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")])],1):e._e()]}},{key:"item.image",fn:function(e){var t=e.item;return[n("v-img",{attrs:{height:"40",width:"140",src:t.image}})]}},{key:"item.Delete",fn:function(t){var i=t.item;return[e.editBtn?n("v-btn",{attrs:{icon:"",color:"primary"}},[e.deleteBtn?n("v-icon",{attrs:{small:"",color:"pink"},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")]):e._e()],1):e._e()]}}],null,!0),model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})}),o=[],l=(n(3210),{props:{setEditedItem:{type:Object,default:function(){return{}}},headers:{type:Array,default:function(){return[]}},itemKey:{type:String,default:function(){return""}},items:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},showSelect:{type:Boolean,default:!1},defaultItem:{type:Object,default:function(){return{}}},addBtn:{type:Boolean,default:!0},editBtn:{type:Boolean,default:!0},deleteBtn:{type:Boolean,default:!0},fetchItem:{type:Object,default:null}},data:function(){return{form:!0,data:[],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,rules:{required:function(e){return e&&!!e.trim()||"Required."}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"},editedItem:{get:function(){return this.setEditedItem},set:function(e){this.$emit("update:setEditedItem",e)}}},watch:{data:function(e){this.$emit("selectedValue",e)},dialog:function(e){if(e){var t=this.$refs.form;t&&t.resetValidation()}else this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){this.editedItem=Object.assign({},this.editedItem,this.defaultItem)},editItem:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.editedIndex=t.items.indexOf(e),!t.fetchItem){n.next=6;break}return n.next=4,t.$emit("editItem",{item:e});case 4:n.next=7;break;case 6:t.editedItem=Object.assign({},e);case 7:t.dialog=!0;case 8:case"end":return n.stop()}}),n)})))()},deleteItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("deleteItem",{item:e.items[e.editedIndex],index:e.editedIndex});case 2:e.closeDelete();case 3:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(n=t.sent,console.log(n),n){t.next=6;break}return t.abrupt("return",!1);case 6:if(-1==e.editedIndex){t.next=11;break}return t.next=9,e.$emit("UpdateItem",{item:e.editedItem,index:e.editedIndex});case 9:t.next=13;break;case 11:return t.next=13,e.$emit("AddItem",{item:e.editedItem});case 13:e.close();case 14:case"end":return t.stop()}}),t)})))()}}}),c=l,d=n(1001),u=n(3453),h=n.n(u),f=n(680),v=n(4367),m=(n(9653),n(4944),n(3792),n(5648)),g=n(1226),p=n(6505),b=n(3325),x=(0,b.Z)(g.Z,p.Z,m.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return(0,v.Z)((0,v.Z)({"v-card":!0},p.Z.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},m.Z.options.computed.classes.call(this))},styles:function(){var e=(0,v.Z)({},m.Z.options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=g.Z.options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),n=t.tag,i=t.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),e(n,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}}),y=n(4589),k=(0,y.Ji)("v-card__actions"),w=((0,y.Ji)("v-card__subtitle"),(0,y.Ji)("v-card__text")),I=(0,y.Ji)("v-card__title"),_=n(8050),C=n(1298),Z=n(8932),$=n(3796),D=(n(6699),n(2023),n(9826),n(3242)),A=n(5795),B=n(5907),E=n(3944),S=n(390),O=n(423),T=n(5703),F=n(5600),V=n(1824),R=(0,b.Z)(B.Z,E.Z,S.Z,O.Z,T.Z,A.Z),j=R.extend({name:"v-dialog",directives:{ClickOutside:F.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var e;return e={},(0,$.Z)(e,"v-dialog ".concat(this.contentClass).trim(),!0),(0,$.Z)(e,"v-dialog--active",this.isActive),(0,$.Z)(e,"v-dialog--persistent",this.persistent),(0,$.Z)(e,"v-dialog--fullscreen",this.fullscreen),(0,$.Z)(e,"v-dialog--scrollable",this.scrollable),(0,$.Z)(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(t=this.previousActiveElement)||t.focus())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&(0,V.Jk)("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):S.Z.options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$nextTick((function(){e.$refs.content.contains(document.activeElement)||(e.previousActiveElement=document.activeElement,e.$refs.content.focus()),e.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===y.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=(0,Z.Z)(n).find((function(e){return!e.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(D.Z,{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:(0,v.Z)({role:"dialog",tabindex:e.isActive?0:void 0,"aria-modal":e.hideOverlay?void 0:"true"},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent:function(){var e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style=(0,v.Z)((0,v.Z)({},e.style),{},{maxWidth:(0,y.kb)(this.maxWidth),width:(0,y.kb)(this.width)})),this.$createElement("div",e,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}}),L=n(6232),N=n(6428),J=n(7047),P=n(9762),M=n(5978),z=n(6656),K=(0,d.Z)(c,r,o,!1,null,null,null),W=K.exports;h()(K,{VBtn:f.Z,VCard:x,VCardActions:k,VCardText:w,VCardTitle:I,VContainer:_.Z,VDataTable:C.Z,VDialog:j,VForm:L.Z,VIcon:N.Z,VImg:J.Z,VSpacer:P.Z,VTextField:M.Z,VToolbar:z.Z});var q=n(9669),X=n.n(q),Y=n(3616),U={name:"sample-table",components:{CrudDataTable:W},mounted:function(){this.fetchData()},methods:{deleteItem:function(e){var t=this;X()["delete"]("".concat(Y.J,"analytic/").concat(e.item.analytic_id)).then((function(){t.fetchData()}))},fetchData:function(){var e=this;X().get("".concat(Y.J,"analytic")).then(function(){var t=(0,s.Z)(regeneratorRuntime.mark((function t(n){var i,a,s,r,o,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(n.data),i=n.data.data,a=[],i.forEach((function(e){e.symbol&&a.push(e.symbol)})),s=a.join(","),r={},t.next=8,X().get("https://yfapi.net/v6/finance/quote?region=IN&lang=en&symbols=".concat(s,",%2C%5ECRSLDX"),{headers:{accept:"application/json","X-API-KEY":"J6WzGEj49F59U8eeu3kSr210VOXDYVCiacvOx7fS"}}).then((function(t){var n=t.data.quoteResponse.result;n.forEach((function(t){if(r[t.symbol]=t.regularMarketChangePercent,"^CRSLDX"==t.symbol){e.nifty=t.regularMarketChangePercent;var n=e.nifty.toFixed(2);e.nifty=n}}))}));case 8:i=i.map((function(e){e.per=e.weightage,e.live=r[e.symbol]||0,e.bts=e.live/100*e.per;var t=e.bts.toFixed(3);e.bts=t;var n=e.live.toFixed(3);return e.live=n,e.newwe=e.per/100*e.live,e.newweight=parseFloat(e.per)+parseFloat(e.newwe),e})),o=0,l=0,i.forEach((function(e){o+=parseFloat(e.bts),l+=parseFloat(e.newweight)})),console.log(l),c=0,i.forEach((function(e){c=e.newweight/l*100,e.newweight=c.toFixed(3)})),d=o.toFixed(3),o=d,e.data=i,e.totalbts=o,u=0,u=o-e.nifty,e.perform=u.toFixed(3);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},clearData:function(){clearInterval(this.timer)}},data:function(){return{timer:"",data:[],totalbts:0,nifty:0,perform:0,analyticLiveData:{},headers:[{text:"Name of The Stock",align:"start",sortable:!1,value:"name"},{text:"Weightage",align:"start",sortable:!1,value:"weightage"},{text:"Yahoo Live Data",value:"live"},{text:"BTS",value:"bts"},{text:"New Weight",value:"newweight"},{text:"Edit",value:"Edit"},{text:"Delete",value:"Delete"}],desserts:[{}]}}},G=U,H=(0,d.Z)(G,i,a,!1,null,"c33db10c",null),Q=H.exports}}]);
//# sourceMappingURL=339-legacy.fb2b1a50.js.map