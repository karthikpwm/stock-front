"use strict";(self["webpackChunknew_vue"]=self["webpackChunknew_vue"]||[]).push([[339],{6232:function(t,e,i){var s=i(3325),a=i(6210),n=i(6257);e["Z"]=(0,s.Z)(a.Z,(0,n.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))})):i.valid=e(t),i},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const i=this.watchers.find((t=>t._uid===e._uid));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},3616:function(t,e,i){i.d(e,{J:function(){return s}});const s="http://192.168.0.143:3000/"},339:function(t,e,i){i.r(e),i.d(e,{default:function(){return Y}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("CrudDataTable",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"items-per-page":5,addBtn:!1},on:{deleteItem:t.deleteItem},scopedSlots:t._u([{key:"footer.prepend",fn:function(){return[i("span",{staticClass:"ma-2"},[t._v(" TOTAL BTS : "),i("strong",{staticClass:"green--text text--lighten-2"},[t._v(" "+t._s(t.totalbts)+" ")]),i("br"),t._v(" NIFTY 500 : "),i("strong",{staticClass:"green--text text--lighten-2 font-size: 1.9em"},[t._v(" "+t._s(t.nifty))]),i("br"),t._v(" "),i("div",[t._v(" PERFORM : "),i("strong",{staticClass:"blue--text text--darken-3"},[t._v(" "+t._s(t.perform))])])])]},proxy:!0}],null,!0)})],1)},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-data-table",{staticClass:"elevation-1",attrs:{value:t.value,headers:t.headers,items:t.items,"items-per-page":100,"show-select":t.showSelect,"sort-by":"calories",search:t.search,"item-key":t.itemKey,"return-object":"","mobile-breakpoint":"0"},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-dialog",{scopedSlots:t._u([t.addBtn?{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"teal",dark:"",small:""}},"v-btn",a,!1),s),[t._v(" Add New ")])]}}:null],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[t._t("forms",null,{editedItem:t.editedItem,rules:t.rules})],2)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),i("v-spacer")],1)],1)],1),i("v-spacer"),i("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},t._l(t.$scopedSlots,(function(e,i){return{key:i,fn:function(e){return[t._t(i,null,null,e)]}}})),{key:"item.Edit",fn:function(e){var s=e.item;return[t.editBtn?i("v-btn",{attrs:{icon:""}},[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")])],1):t._e()]}},{key:"item.image",fn:function(t){var e=t.item;return[i("v-img",{attrs:{height:"40",width:"140",src:e.image}})]}},{key:"item.Delete",fn:function(e){var s=e.item;return[t.editBtn?i("v-btn",{attrs:{icon:"",color:"primary"}},[t.deleteBtn?i("v-icon",{attrs:{small:"",color:"pink"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")]):t._e()],1):t._e()]}}],null,!0),model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})},r=[],o={props:{setEditedItem:{type:Object,default:function(){return{}}},headers:{type:Array,default:function(){return[]}},itemKey:{type:String,default:function(){return""}},items:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},showSelect:{type:Boolean,default:!1},defaultItem:{type:Object,default:function(){return{}}},addBtn:{type:Boolean,default:!0},editBtn:{type:Boolean,default:!0},deleteBtn:{type:Boolean,default:!0},fetchItem:{type:Object,default:null}},data:()=>({form:!0,data:[],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,rules:{required:t=>t&&!!t.trim()||"Required."}}),computed:{formTitle(){return-1===this.editedIndex?"New":"Edit"},editedItem:{get(){return this.setEditedItem},set(t){this.$emit("update:setEditedItem",t)}}},watch:{data(t){this.$emit("selectedValue",t)},dialog(t){if(t){const t=this.$refs.form;t&&t.resetValidation()}else this.close()},dialogDelete(t){t||this.closeDelete()}},created(){this.initialize()},methods:{initialize(){this.editedItem=Object.assign({},this.editedItem,this.defaultItem)},async editItem(t){this.editedIndex=this.items.indexOf(t),this.fetchItem?await this.$emit("editItem",{item:t}):this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},async deleteItemConfirm(){await this.$emit("deleteItem",{item:this.items[this.editedIndex],index:this.editedIndex}),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){const t=await this.$refs.form.validate();if(console.log(t),!t)return!1;-1!=this.editedIndex?await this.$emit("UpdateItem",{item:this.editedItem,index:this.editedIndex}):await this.$emit("AddItem",{item:this.editedItem}),this.close()}}},l=o,d=i(1001),c=i(3453),h=i.n(c),u=i(680),m=i(5648),v=i(1226),f=i(6505),g=i(3325),p=(0,g.Z)(v.Z,f.Z,m.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...f.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...m.Z.options.computed.classes.call(this)}},styles(){const t={...m.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=v.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}}),b=i(4589);const y=(0,b.Ji)("v-card__actions"),x=((0,b.Ji)("v-card__subtitle"),(0,b.Ji)("v-card__text")),w=(0,b.Ji)("v-card__title");var k=i(8050),_=i(1298),I=i(3242),C=i(5795),$=i(5907),B=i(3944),E=i(390),Z=i(423),A=i(5703),D=i(5600),S=i(1824);const O=(0,g.Z)($.Z,B.Z,E.Z,Z.Z,A.Z,C.Z);var T=O.extend({name:"v-dialog",directives:{ClickOutside:D.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,S.Jk)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):E.Z.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{this.$refs.content.contains(document.activeElement)||(this.previousActiveElement=document.activeElement,this.$refs.content.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===b.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((t=>t.contains(e)))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find((t=>!t.hasAttribute("disabled")));e&&e.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(I.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog",tabindex:this.isActive?0:void 0,"aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:(0,b.kb)(this.maxWidth),width:(0,b.kb)(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}}),V=i(6232),F=i(6428),j=i(7047),J=i(9762),L=i(5978),z=i(6656),N=(0,d.Z)(l,n,r,!1,null,null,null),P=N.exports;h()(N,{VBtn:u.Z,VCard:p,VCardActions:y,VCardText:x,VCardTitle:w,VContainer:k.Z,VDataTable:_.Z,VDialog:T,VForm:V.Z,VIcon:F.Z,VImg:j.Z,VSpacer:J.Z,VTextField:L.Z,VToolbar:z.Z});var M=i(9669),R=i.n(M),K=i(3616),W={name:"sample-table",components:{CrudDataTable:P},mounted(){this.fetchData()},methods:{deleteItem(t){let e=this;R()["delete"](`${K.J}analytic/${t.item.analytic_id}`).then((function(){e.fetchData()}))},fetchData(){R().get(`${K.J}analytic`).then((async t=>{console.log(t.data);let e=t.data.data,i=[];e.forEach((t=>{t.symbol&&i.push(t.symbol)}));let s=i.join(","),a={};await R().get(`https://yfapi.net/v6/finance/quote?region=IN&lang=en&symbols=${s},%2C%5ECRSLDX`,{headers:{accept:"application/json","X-API-KEY":"J6WzGEj49F59U8eeu3kSr210VOXDYVCiacvOx7fS"}}).then((t=>{let e=t.data.quoteResponse.result;e.forEach((t=>{if(a[t.symbol]=t.regularMarketChangePercent,"^CRSLDX"==t.symbol){this.nifty=t.regularMarketChangePercent;let e=this.nifty.toFixed(2);this.nifty=e}}))})),e=e.map((function(t){t.per=t.weightage,t.live=a[t.symbol]||0,t.bts=t.live/100*t.per;let e=t.bts.toFixed(3);t.bts=e;let i=t.live.toFixed(3);return t.live=i,t.newwe=t.per/100*t.live,t.newweight=parseFloat(t.per)+parseFloat(t.newwe),t}));let n=0,r=0;e.forEach((t=>{n+=parseFloat(t.bts),r+=parseFloat(t.newweight)})),console.log(r);let o=0;e.forEach((t=>{o=t.newweight/r*100,t.newweight=o.toFixed(3)}));let l=n.toFixed(3);n=l,this.data=e,this.totalbts=n;let d=0;d=n-this.nifty,this.perform=d.toFixed(3)}))},clearData(){clearInterval(this.timer)}},data(){return{timer:"",data:[],totalbts:0,nifty:0,perform:0,analyticLiveData:{},headers:[{text:"Name of The Stock",align:"start",sortable:!1,value:"name"},{text:"Weightage",align:"start",sortable:!1,value:"weightage"},{text:"Yahoo Live Data",value:"live"},{text:"BTS",value:"bts"},{text:"New Weight",value:"newweight"},{text:"Edit",value:"Edit"},{text:"Delete",value:"Delete"}],desserts:[{}]}}},q=W,X=(0,d.Z)(q,s,a,!1,null,"c33db10c",null),Y=X.exports}}]);
//# sourceMappingURL=339.101c25d5.js.map